# GitHub Actionsè‡ªåŠ¨æ›´æ–°æ•°æ®åº“ - å®Œæ•´è®¾ç½®æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ è®¾ç½®GitHub Actionsï¼Œå®ç°æ¯å¤©è‡ªåŠ¨æ›´æ–°ETFæ•°æ®åˆ°PostgreSQLæ•°æ®åº“ã€‚

---

## ğŸ¯ æ¶æ„è¯´æ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Actions (æ¯å¤©18:00åŒ—äº¬æ—¶é—´)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  1. è·å–æœ€æ–°ETFæ•°æ® (main.py)                     â”‚      â”‚
â”‚  â”‚  2. å¯¼å…¥æ•°æ®åˆ°PostgreSQL (update_database.py)    â”‚      â”‚
â”‚  â”‚  3. éªŒè¯æ•°æ®å®Œæ•´æ€§ (verify_database.py)          â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQLæ•°æ®åº“ (Supabase)                                 â”‚
â”‚  - æŒä¹…åŒ–å­˜å‚¨                                                â”‚
â”‚  - è‡ªåŠ¨å¤‡ä»½                                                  â”‚
â”‚  - å…¨çƒCDNåŠ é€Ÿ                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Streamlit Cloud                                             â”‚
â”‚  - è¯»å–æ•°æ®åº“æ•°æ®                                            â”‚
â”‚  - å®æ—¶å±•ç¤º                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ5æ­¥å®Œæˆï¼‰

### æ­¥éª¤1: åˆ›å»ºSupabaseæ•°æ®åº“ï¼ˆ5åˆ†é’Ÿï¼‰

1. **æ³¨å†ŒSupabaseè´¦å·**
   - è®¿é—® https://supabase.com/
   - ç‚¹å‡» "Start your project"
   - ä½¿ç”¨GitHubè´¦å·ç™»å½•ï¼ˆæ¨èï¼‰

2. **åˆ›å»ºæ–°é¡¹ç›®**
   - ç‚¹å‡» "New Project"
   - é¡¹ç›®åç§°: `etf-database`
   - æ•°æ®åº“å¯†ç : è®¾ç½®ä¸€ä¸ªå¼ºå¯†ç ï¼ˆè®°ä½å®ƒï¼ï¼‰
   - åŒºåŸŸ: é€‰æ‹© `Northeast Asia (Tokyo)` æˆ– `Southeast Asia (Singapore)`
   - ç‚¹å‡» "Create new project"
   - ç­‰å¾…2-3åˆ†é’Ÿå®Œæˆåˆå§‹åŒ–

3. **è·å–æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²**
   - åœ¨é¡¹ç›®é¡µé¢ï¼Œç‚¹å‡»å·¦ä¾§ "Settings" â†’ "Database"
   - æ‰¾åˆ° "Connection string" éƒ¨åˆ†
   - é€‰æ‹© "URI" æ ¼å¼
   - å¤åˆ¶è¿æ¥å­—ç¬¦ä¸²ï¼Œæ ¼å¼ç±»ä¼¼ï¼š
     ```
     postgresql://postgres:[YOUR-PASSWORD]@db.xxx.supabase.co:5432/postgres
     ```
   - å°† `[YOUR-PASSWORD]` æ›¿æ¢ä¸ºä½ è®¾ç½®çš„å¯†ç 

4. **åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„**
   - åœ¨Supabaseé¡¹ç›®é¡µé¢ï¼Œç‚¹å‡»å·¦ä¾§ "SQL Editor"
   - ç‚¹å‡» "New query"
   - å¤åˆ¶ `database/schema.sql` çš„å†…å®¹ç²˜è´´è¿›å»
   - ç‚¹å‡» "Run" æ‰§è¡Œ
   - ç¡®è®¤çœ‹åˆ° "Success" æ¶ˆæ¯

### æ­¥éª¤2: é…ç½®GitHub Secretsï¼ˆ2åˆ†é’Ÿï¼‰

1. **æ‰“å¼€GitHubä»“åº“è®¾ç½®**
   - è®¿é—® https://github.com/InfiniteLoop-luna/etf
   - ç‚¹å‡» "Settings" æ ‡ç­¾
   - å·¦ä¾§èœå•é€‰æ‹© "Secrets and variables" â†’ "Actions"

2. **æ·»åŠ DATABASE_URL**
   - ç‚¹å‡» "New repository secret"
   - Name: `DATABASE_URL`
   - Secret: ç²˜è´´æ­¥éª¤1ä¸­è·å–çš„è¿æ¥å­—ç¬¦ä¸²
   - ç‚¹å‡» "Add secret"

3. **ç¡®è®¤TUSHARE_TOKENå·²å­˜åœ¨**
   - æ£€æŸ¥æ˜¯å¦å·²æœ‰ `TUSHARE_TOKEN` secret
   - å¦‚æœæ²¡æœ‰ï¼Œæ·»åŠ ä½ çš„Tushare token

### æ­¥éª¤3: åˆå§‹åŒ–æ•°æ®åº“ï¼ˆ5åˆ†é’Ÿï¼‰

åœ¨æœ¬åœ°è¿è¡Œä¸€æ¬¡å¯¼å…¥ï¼Œå°†ç°æœ‰æ•°æ®å¯¼å…¥æ•°æ®åº“ï¼š

```bash
# 1. è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆä½¿ç”¨ä½ çš„è¿æ¥å­—ç¬¦ä¸²ï¼‰
set DATABASE_URL=postgresql://postgres:your-password@db.xxx.supabase.co:5432/postgres

# 2. è¿è¡Œå¯¼å…¥è„šæœ¬
python scripts/update_database.py

# 3. éªŒè¯æ•°æ®
python scripts/verify_database.py
```

é¢„æœŸè¾“å‡ºï¼š
```
[SUCCESS] Database update completed!
Inserted: 35266 records
Updated: 0 records
Failed: 0 records
```

### æ­¥éª¤4: å¯ç”¨GitHub Actionsï¼ˆ1åˆ†é’Ÿï¼‰

1. **æ¨é€æ–°çš„workflowæ–‡ä»¶**
   ```bash
   git add .github/workflows/update-database.yml
   git add scripts/update_database.py
   git add scripts/verify_database.py
   git add requirements.txt
   git commit -m "feat: add automatic database update workflow"
   git push
   ```

2. **æ‰‹åŠ¨è§¦å‘æµ‹è¯•**
   - è®¿é—® https://github.com/InfiniteLoop-luna/etf/actions
   - é€‰æ‹© "Update ETF Database Daily" workflow
   - ç‚¹å‡» "Run workflow" â†’ "Run workflow"
   - ç­‰å¾…æ‰§è¡Œå®Œæˆï¼ˆçº¦2-3åˆ†é’Ÿï¼‰
   - æ£€æŸ¥æ˜¯å¦æˆåŠŸï¼ˆç»¿è‰²âœ“ï¼‰

### æ­¥éª¤5: é…ç½®Streamlit Cloudï¼ˆ3åˆ†é’Ÿï¼‰

1. **æ·»åŠ Secrets**
   - è®¿é—® https://share.streamlit.io/
   - æ‰¾åˆ°ä½ çš„ETFåº”ç”¨
   - ç‚¹å‡» "Settings" â†’ "Secrets"
   - æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
     ```toml
     DATABASE_URL = "postgresql://postgres:your-password@db.xxx.supabase.co:5432/postgres"
     ```
   - ç‚¹å‡» "Save"

2. **è®¾ç½®ç¯å¢ƒå˜é‡**
   - åœ¨ "Settings" â†’ "Environment variables" ä¸­æ·»åŠ ï¼š
     ```
     DATA_SOURCE=database
     DB_TYPE=postgresql
     ```

3. **æ›´æ–°åº”ç”¨æ–‡ä»¶**
   - ç¡®ä¿ä½¿ç”¨ `app_with_db.py` ä½œä¸ºä¸»æ–‡ä»¶
   - æˆ–è€…ä¿®æ”¹ç°æœ‰çš„ `app.py` ä½¿ç”¨æ•°æ®åº“

4. **é‡æ–°éƒ¨ç½²**
   - ç‚¹å‡» "Reboot app"
   - ç­‰å¾…åº”ç”¨é‡å¯
   - è®¿é—®åº”ç”¨URLéªŒè¯æ•°æ®æ˜¾ç¤ºæ­£å¸¸

---

## âœ… éªŒè¯è®¾ç½®

### 1. éªŒè¯GitHub Actions

è®¿é—® https://github.com/InfiniteLoop-luna/etf/actions

æ£€æŸ¥ï¼š
- âœ… Workflowè¿è¡ŒæˆåŠŸï¼ˆç»¿è‰²âœ“ï¼‰
- âœ… æ—¥å¿—æ˜¾ç¤º "Database update completed"
- âœ… æ²¡æœ‰é”™è¯¯ä¿¡æ¯

### 2. éªŒè¯æ•°æ®åº“

åœ¨Supabase SQL Editorä¸­è¿è¡Œï¼š

```sql
-- æ£€æŸ¥ETFæ•°é‡
SELECT COUNT(*) FROM etf_info;

-- æ£€æŸ¥æ•°æ®è®°å½•æ•°
SELECT COUNT(*) FROM etf_timeseries;

-- æ£€æŸ¥æœ€æ–°æ•°æ®æ—¥æœŸ
SELECT MAX(date) FROM etf_timeseries;

-- æ£€æŸ¥æœ€è¿‘æ›´æ–°æ—¶é—´
SELECT MAX(updated_at) FROM etf_timeseries;
```

é¢„æœŸç»“æœï¼š
- ETFæ•°é‡: 13
- æ•°æ®è®°å½•æ•°: 35,000+
- æœ€æ–°æ—¥æœŸ: ä»Šå¤©æˆ–æœ€è¿‘äº¤æ˜“æ—¥
- æ›´æ–°æ—¶é—´: æœ€è¿‘1å°æ—¶å†…

### 3. éªŒè¯Streamlitåº”ç”¨

è®¿é—®ä½ çš„Streamlitåº”ç”¨URLï¼š

æ£€æŸ¥ï¼š
- âœ… åº”ç”¨æ­£å¸¸åŠ è½½
- âœ… æ•°æ®æ˜¾ç¤ºæ­£å¸¸
- âœ… å›¾è¡¨å¯ä»¥æ­£å¸¸äº¤äº’
- âœ… æ—¥æœŸèŒƒå›´åŒ…å«æœ€æ–°æ•°æ®

---

## ğŸ“… è‡ªåŠ¨æ›´æ–°æ—¶é—´è¡¨

### å½“å‰é…ç½®

```yaml
schedule:
  - cron: '0 10 * * *'  # æ¯å¤©UTC 10:00 = åŒ—äº¬æ—¶é—´18:00
```

### ä¿®æ”¹æ›´æ–°æ—¶é—´

å¦‚æœéœ€è¦ä¿®æ”¹æ›´æ–°æ—¶é—´ï¼Œç¼–è¾‘ `.github/workflows/update-database.yml`ï¼š

```yaml
# ç¤ºä¾‹ï¼šæ¯å¤©åŒ—äº¬æ—¶é—´20:00è¿è¡Œ
- cron: '0 12 * * *'  # UTC 12:00 = åŒ—äº¬æ—¶é—´20:00

# ç¤ºä¾‹ï¼šæ¯å¤©åŒ—äº¬æ—¶é—´æ—©ä¸Š8:00è¿è¡Œ
- cron: '0 0 * * *'   # UTC 00:00 = åŒ—äº¬æ—¶é—´08:00

# ç¤ºä¾‹ï¼šæ¯å‘¨ä¸€åˆ°å‘¨äº”18:00è¿è¡Œï¼ˆä»…äº¤æ˜“æ—¥ï¼‰
- cron: '0 10 * * 1-5'  # UTC 10:00, Mon-Fri
```

### æ‰‹åŠ¨è§¦å‘æ›´æ–°

éšæ—¶å¯ä»¥æ‰‹åŠ¨è§¦å‘æ›´æ–°ï¼š

1. è®¿é—® https://github.com/InfiniteLoop-luna/etf/actions
2. é€‰æ‹© "Update ETF Database Daily"
3. ç‚¹å‡» "Run workflow"
4. é€‰æ‹©åˆ†æ”¯ï¼ˆé€šå¸¸æ˜¯ `main`ï¼‰
5. ç‚¹å‡» "Run workflow"

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜1: GitHub Actionså¤±è´¥

**ç—‡çŠ¶**: Workflowæ˜¾ç¤ºçº¢è‰²âœ—

**è§£å†³æ–¹æ¡ˆ**:
1. ç‚¹å‡»å¤±è´¥çš„workflowæŸ¥çœ‹æ—¥å¿—
2. æ£€æŸ¥å¸¸è§é—®é¢˜ï¼š
   - DATABASE_URL secretæ˜¯å¦æ­£ç¡®è®¾ç½®
   - æ•°æ®åº“æ˜¯å¦å¯è®¿é—®
   - Excelæ–‡ä»¶æ˜¯å¦ç”ŸæˆæˆåŠŸ

**å¸¸è§é”™è¯¯**:

```
Error: DATABASE_URL not found
â†’ è§£å†³: åœ¨GitHub Secretsä¸­æ·»åŠ DATABASE_URL
```

```
Error: connection refused
â†’ è§£å†³: æ£€æŸ¥Supabaseæ•°æ®åº“æ˜¯å¦æ­£å¸¸è¿è¡Œ
```

```
Error: authentication failed
â†’ è§£å†³: æ£€æŸ¥DATABASE_URLä¸­çš„å¯†ç æ˜¯å¦æ­£ç¡®
```

### é—®é¢˜2: æ•°æ®åº“è¿æ¥å¤±è´¥

**ç—‡çŠ¶**: åº”ç”¨æ˜¾ç¤º "Cannot connect to database"

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥Supabaseé¡¹ç›®æ˜¯å¦æš‚åœï¼ˆå…è´¹ç‰ˆ7å¤©ä¸æ´»åŠ¨ä¼šæš‚åœï¼‰
2. åœ¨Supabaseæ§åˆ¶å°ç‚¹å‡» "Resume project"
3. ç­‰å¾…1-2åˆ†é’Ÿåé‡è¯•

### é—®é¢˜3: æ•°æ®æœªæ›´æ–°

**ç—‡çŠ¶**: åº”ç”¨æ˜¾ç¤ºçš„æ•°æ®æ˜¯æ—§çš„

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥GitHub Actionsæ˜¯å¦æˆåŠŸè¿è¡Œ
2. åœ¨Supabase SQL Editorè¿è¡Œï¼š
   ```sql
   SELECT MAX(date), MAX(updated_at) FROM etf_timeseries;
   ```
3. å¦‚æœæ•°æ®ç¡®å®æœªæ›´æ–°ï¼Œæ‰‹åŠ¨è§¦å‘workflow

### é—®é¢˜4: Streamlitåº”ç”¨æ˜¾ç¤ºé”™è¯¯

**ç—‡çŠ¶**: åº”ç”¨åŠ è½½å¤±è´¥æˆ–æ˜¾ç¤ºé”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥Streamlit Secretsæ˜¯å¦æ­£ç¡®é…ç½®
2. æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦è®¾ç½®
3. æŸ¥çœ‹Streamlitæ—¥å¿—ï¼š
   - åœ¨åº”ç”¨é¡µé¢ç‚¹å‡»å³ä¸‹è§’çš„ "Manage app"
   - æŸ¥çœ‹ "Logs" æ ‡ç­¾

---

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### æ¯å‘¨æ£€æŸ¥æ¸…å•

- [ ] æ£€æŸ¥GitHub Actionsæ˜¯å¦æ­£å¸¸è¿è¡Œ
- [ ] æ£€æŸ¥æ•°æ®åº“æœ€æ–°æ•°æ®æ—¥æœŸ
- [ ] æ£€æŸ¥Streamlitåº”ç”¨æ˜¯å¦æ­£å¸¸
- [ ] æ£€æŸ¥Supabaseå­˜å‚¨ç©ºé—´ä½¿ç”¨æƒ…å†µ

### æœˆåº¦æ£€æŸ¥æ¸…å•

- [ ] å®¡æŸ¥GitHub Actionsè¿è¡Œæ—¥å¿—
- [ ] æ£€æŸ¥æ•°æ®åº“æ€§èƒ½
- [ ] æ¸…ç†æ—§çš„workflowè¿è¡Œè®°å½•
- [ ] å¤‡ä»½é‡è¦é…ç½®

### Supabaseå…è´¹å¥—é¤é™åˆ¶

- å­˜å‚¨ç©ºé—´: 500MB
- æ•°æ®åº“è¿æ¥: æ— é™åˆ¶
- APIè¯·æ±‚: æ— é™åˆ¶
- å¸¦å®½: 5GB/æœˆ

**å½“å‰ä½¿ç”¨æƒ…å†µ**:
- æ•°æ®åº“å¤§å°: ~2MB
- é¢„è®¡å¯ç”¨æ—¶é—´: æ•°å¹´ï¼ˆæ•°æ®å¢é•¿ç¼“æ…¢ï¼‰

---

## ğŸ” å®‰å…¨æœ€ä½³å®è·µ

### 1. ä¿æŠ¤æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²

- âœ… ä½¿ç”¨GitHub Secretså­˜å‚¨
- âœ… ä½¿ç”¨Streamlit Secretså­˜å‚¨
- âŒ ä¸è¦æäº¤åˆ°ä»£ç ä»“åº“
- âŒ ä¸è¦åœ¨æ—¥å¿—ä¸­æ‰“å°

### 2. å®šæœŸæ›´æ–°å¯†ç 

å»ºè®®æ¯3-6ä¸ªæœˆæ›´æ–°ä¸€æ¬¡æ•°æ®åº“å¯†ç ï¼š

1. åœ¨Supabaseæ›´æ”¹å¯†ç 
2. æ›´æ–°GitHub Secrets
3. æ›´æ–°Streamlit Secrets
4. æµ‹è¯•æ‰€æœ‰è¿æ¥

### 3. ç›‘æ§å¼‚å¸¸è®¿é—®

åœ¨Supabaseæ§åˆ¶å°å®šæœŸæ£€æŸ¥ï¼š
- Database â†’ Logs
- æŸ¥çœ‹æ˜¯å¦æœ‰å¼‚å¸¸æŸ¥è¯¢
- æŸ¥çœ‹è¿æ¥æ¥æº

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å½“å‰æ€§èƒ½

- æ•°æ®å¯¼å…¥æ—¶é—´: ~20ç§’
- æŸ¥è¯¢å“åº”æ—¶é—´: <100ms
- åº”ç”¨åŠ è½½æ—¶é—´: ~2ç§’

### ä¼˜åŒ–å»ºè®®

1. **å¦‚æœæ•°æ®é‡å¢å¤§**:
   - è€ƒè™‘åˆ†åŒºè¡¨ï¼ˆæŒ‰æ—¥æœŸåˆ†åŒºï¼‰
   - æ·»åŠ æ›´å¤šç´¢å¼•
   - ä½¿ç”¨ç‰©åŒ–è§†å›¾

2. **å¦‚æœæŸ¥è¯¢å˜æ…¢**:
   - æ£€æŸ¥ç´¢å¼•æ˜¯å¦æœ‰æ•ˆ
   - ä½¿ç”¨EXPLAINåˆ†ææŸ¥è¯¢
   - è€ƒè™‘æ·»åŠ ç¼“å­˜å±‚

3. **å¦‚æœå¯¼å…¥å˜æ…¢**:
   - ä½¿ç”¨æ‰¹é‡æ’å…¥
   - è€ƒè™‘å¢é‡æ›´æ–°
   - ä¼˜åŒ–Excelè¯»å–

---

## ğŸ“ è¿›é˜¶é…ç½®

### æ·»åŠ é‚®ä»¶é€šçŸ¥

åœ¨workflowä¸­æ·»åŠ é‚®ä»¶é€šçŸ¥ï¼ˆå¤±è´¥æ—¶ï¼‰ï¼š

```yaml
- name: Send email on failure
  if: failure()
  uses: dawidd6/action-send-mail@v3
  with:
    server_address: smtp.gmail.com
    server_port: 465
    username: ${{ secrets.EMAIL_USERNAME }}
    password: ${{ secrets.EMAIL_PASSWORD }}
    subject: ETF Database Update Failed
    body: Check the workflow logs for details
    to: your-email@example.com
```

### æ·»åŠ Slacké€šçŸ¥

```yaml
- name: Send Slack notification
  if: failure()
  uses: slackapi/slack-github-action@v1
  with:
    webhook-url: ${{ secrets.SLACK_WEBHOOK }}
    payload: |
      {
        "text": "ETF Database update failed!"
      }
```

### æ•°æ®å¤‡ä»½

æ·»åŠ å®šæœŸå¤‡ä»½workflowï¼š

```yaml
name: Backup Database

on:
  schedule:
    - cron: '0 2 * * 0'  # æ¯å‘¨æ—¥å‡Œæ™¨2ç‚¹

jobs:
  backup:
    runs-on: ubuntu-latest
    steps:
      - name: Backup database
        run: |
          pg_dump $DATABASE_URL > backup.sql
          # ä¸Šä¼ åˆ°äº‘å­˜å‚¨
```

---

## ğŸ“ è·å–å¸®åŠ©

### æ–‡æ¡£

- [Supabaseæ–‡æ¡£](https://supabase.com/docs)
- [GitHub Actionsæ–‡æ¡£](https://docs.github.com/en/actions)
- [Streamlitæ–‡æ¡£](https://docs.streamlit.io/)

### å¸¸è§é—®é¢˜

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„"æ•…éšœæ’æŸ¥"éƒ¨åˆ†
2. æ£€æŸ¥GitHub Actionsæ—¥å¿—
3. æ£€æŸ¥Supabaseæ—¥å¿—
4. æ£€æŸ¥Streamlitæ—¥å¿—

### è”ç³»æ”¯æŒ

- GitHub Issues: https://github.com/InfiniteLoop-luna/etf/issues
- Supabase Support: https://supabase.com/support

---

## âœ¨ æ€»ç»“

å®Œæˆä»¥ä¸Šè®¾ç½®åï¼Œä½ å°†æ‹¥æœ‰ï¼š

- âœ… æ¯å¤©è‡ªåŠ¨æ›´æ–°çš„ETFæ•°æ®åº“
- âœ… æŒä¹…åŒ–çš„æ•°æ®å­˜å‚¨
- âœ… å®æ—¶çš„æ•°æ®å±•ç¤º
- âœ… å®Œæ•´çš„ç›‘æ§å’Œæ—¥å¿—
- âœ… å¯é çš„å¤‡ä»½æœºåˆ¶

**é¢„è®¡æ€»è®¾ç½®æ—¶é—´**: 15-20åˆ†é’Ÿ

**ç»´æŠ¤æ—¶é—´**: æ¯å‘¨5åˆ†é’Ÿ

ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰
